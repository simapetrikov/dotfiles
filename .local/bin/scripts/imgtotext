#!/bin/sh
flameshot gui --path /tmp/img.png || exit 1
language=$(echo -e "eng+rus\neng\nrus" | dmenu -l 3)
[ -z "$language" ] && exit 1
text=$(tesseract -l "$language" /tmp/img.png - 2>/dev/null)
[ -z "$text" ] && notify-send "OCR" "No text recognized" && exit 1
echo "$text"
echo "$text" | dmenu -l 1 | xclip -selection clipboard
rm /tmp/img.png
